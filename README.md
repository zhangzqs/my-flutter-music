# My Music - WebDAV音乐播放器

这是一个基于Flutter开发的WebDAV音乐播放器，可以连接到支持WebDAV协议的服务器并播放音乐文件。

## 功能特性

- 🎵 支持多种音频格式（MP3, M4A, AAC, FLAC, WAV, OGG）
- 🌐 WebDAV服务器连接
- 🎛️ 完整的播放控制（播放/暂停/上一首/下一首）
- 🔀 随机播放和重复播放
- 📱 现代化的Material Design界面
- 💾 自动保存连接设置
- 🎤 LRC歌词显示和同步
- 📑 双标签页界面（音乐列表/歌词显示）

## 系统要求

- Flutter 3.8.1 或更高版本
- Dart SDK
- Android/iOS设备或模拟器

## 安装步骤

1. 克隆或下载项目
2. 在项目根目录运行：
   ```bash
   flutter pub get
   ```
3. 运行应用：
   ```bash
   flutter run
   ```

## 使用说明

### 连接WebDAV服务器

1. 点击右上角的云图标
2. 填写服务器信息：
   - 服务器地址：你的WebDAV服务器域名或IP
   - 端口：通常HTTP为80，HTTPS为443
   - 用户名和密码：WebDAV账户凭据
   - 基础路径：音乐文件所在的目录路径
   - HTTPS开关：是否使用安全连接

### 播放音乐

1. 连接成功后，应用会自动加载音乐文件列表
2. 点击任意音乐文件开始播放
3. 使用底部的播放控制条控制播放

### 播放控制

- **播放/暂停**：点击中央的播放按钮
- **上一首/下一首**：使用左右箭头按钮
- **进度控制**：拖拽进度条跳转到指定位置
- **随机播放**：点击随机图标启用/禁用
- **重复播放**：点击重复图标启用/禁用

### 歌词功能

1. **歌词文件格式**：支持标准LRC格式
2. **文件命名**：歌词文件需与音乐文件同名，扩展名为`.lrc`
3. **文件位置**：歌词文件需放在与音乐文件相同的目录下
4. **查看歌词**：点击界面顶部的"歌词"标签页查看
5. **歌词同步**：播放时歌词会自动高亮当前行

**LRC文件示例**：
```
[ti:歌曲标题]
[ar:歌手]
[al:专辑]
[00:12.50]第一句歌词
[00:17.20]第二句歌词
[00:21.10]第三句歌词
```

## 支持的WebDAV服务器

- Nextcloud
- ownCloud
- Apache HTTP Server (mod_dav)
- Nginx (ngx_http_dav_module)
- Windows IIS
- Synology NAS
- QNAP NAS

## 常见问题

### 无法连接服务器
- 检查服务器地址和端口是否正确
- 确认用户名和密码正确
- 检查网络连接
- 确认WebDAV服务已启用

### 找不到音乐文件
- 检查基础路径设置是否正确
- 确认目录中包含支持的音频格式文件
- 检查文件权限

### 播放失败
- 确认音频文件格式被支持
- 检查网络连接稳定性
- 确认服务器允许文件下载

## 技术栈

- **框架**：Flutter
- **状态管理**：Provider
- **音频播放**：audioplayers
- **WebDAV客户端**：webdav_client
- **本地存储**：shared_preferences

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 许可证

本项目采用MIT许可证。
